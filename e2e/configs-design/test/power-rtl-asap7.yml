# Test Joules Flow

vlsi.core.power_tool: "hammer.power.joules"

power.inputs:
  level: 'rtl'
  input_files: ["src/pass.v"]
  top_module: "pass"
  tb_name: "pass_tb"
  tb_dut: "pass_0"
  waveforms: ["build-asap7-cm/test/sim-rtl-rundir/output.fsdb"]
  report_configs:
    - waveform_path: "build-asap7-cm/test/sim-rtl-rundir/output.fsdb"
      # specify either interval_size or toggle_signal+num_toggles
      # interval_size: 0.5ns
      toggle_signal: clock
      num_toggles: 1
      output_formats:
      - plot_profile
      - report

power.inputs.power_spec: "auto"

# sim clock must match synthesized clock period
sim.inputs:
  top_module: pass
  tb_dut: pass_0
  tb_name: "pass_tb"
  input_files: ['src/pass.v', 'src/pass_tb.v']
  defines: ['CLOCK_PERIOD=1']
  defines_meta: 'append'
  options: ['-timescale=1ns/10ps']
  options_meta: append

# clock period for Joules fast-synth
vlsi.inputs.clocks: [
  {name: "clock", period: "1ns", uncertainty: "10ps"}
]
